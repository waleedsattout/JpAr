import{a as G}from"./chunk-7543GSZT.js";import{a as F}from"./chunk-WRKAA74T.js";import{f as z,l as g,o as h,ta as Y,ua as A,va as N,wa as U,xa as W,ya as H}from"./chunk-Z23VTVCW.js";import{$ as I,Aa as w,Ea as L,Gb as q,Hb as Q,Ib as R,Oa as p,Qa as m,Sa as l,Ta as c,Ua as f,Va as S,W as x,Wa as y,Xa as V,Ya as P,Za as C,_a as d,bb as E,cb as M,db as k,eb as v,fb as u,gb as D,ha as _,hb as B,ia as b,jb as j,kb as O,za as s}from"./chunk-OYZL6AD4.js";var T=class extends A{render(){return W('<path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>')}};T.styles=U;T=Y([N("mdui-icon-edit")],T);var J=["snackBar"],K=["fab"];function X(e,i){e&1&&f(0,"img",16)}function Z(e,i){if(e&1){let a=P();l(0,"div",9),p(1,X,1,0,"img",10),l(2,"div",11)(3,"app-avatarpicker",12),C("imagePicked",function(t){_(a);let r=d();return b(r.handlePickingImage(t))}),c(),l(4,"form",13),C("submit",function(t){_(a);let r=d();return b(r.onSubmit(t))}),f(5,"mdui-text-field",14),l(6,"mdui-button",15),u(7,"\u062D\u0641\u0638"),c()()()()}if(e&2){let a=d();s(),m("ngIf",a.mediumScreen&&!a.imageSelected||a.largeScreen),s(4),m("formControl",a.username)}}function $(e,i){e&1&&f(0,"div",18)}function ee(e,i){e&1&&V(0)}function te(e,i){if(e&1&&(S(0),l(1,"mdui-card",19),p(2,ee,1,0,"ng-container",20),c(),y()),e&2){d(2);let a=v(4);s(2),m("ngTemplateOutlet",a)}}function ne(e,i){if(e&1&&p(0,$,1,0,"div",17)(1,te,3,1,"ng-container",5),e&2){let a=d(),n=v(4);m("ngIf",a.smallScreen),s(),m("ngIf",a.smallScreen)("ngIfElse",n)}}function ie(e,i){e&1&&(S(0,null,4),u(2,` quizes
`),y())}var Pe=(()=>{let i=class i{constructor(n,t){this.renderer=n,this.sharedData=t,this.username=new h("",[g.required,g.minLength(4)]),this.password=new h("",[g.required,g.minLength(4)]),this.firstname=new h(""),this.lastname=new h(""),this.imageSelected=!1,this.backend=x(H),this.router=x(z),this.largeScreen=!1,this.mediumScreen=!1,this.smallScreen=!1,this.isEditing=!1,this.fabText="\u062A\u0639\u062F\u064A\u0644",this.snackbarContent=""}ngAfterViewInit(){this.smallScreen=this.sharedData.innerWidth<=this.sharedData.smallScreenWidth,this.fab.nativeElement.style.width="",this.renderer.addClass(document.querySelector("mdui-top-app-bar"),"bg-transparent"),this.smallScreen?(this.renderer.addClass(document.body,"no-pad-body"),this.renderer.removeStyle(document.body,"padding-top")):this.sharedData.innerWidth>=1400?this.largeScreen=!0:this.mediumScreen=!0;let n=window.scrollY;this.smallScreen?window.addEventListener("scroll",()=>{let t=window.scrollY;this.fab&&(t>n?(this.renderer.setStyle(document.body,"paddingBottom",""),this.fab.nativeElement.extended=!1,this.fab.nativeElement.classList.add("fab-down"),this.fab.nativeElement.classList.remove("fab-up")):t<n&&(this.renderer.setStyle(document.body,"paddingBottom","80px"),this.fab.nativeElement.extended=!0,this.fab.nativeElement.classList.remove("fab-down"),this.fab.nativeElement.classList.add("fab-up"))),n=t}):(this.fab.nativeElement.classList.add("fab-down"),this.fab.nativeElement.classList.remove("fab-up"))}handleFab(){this.isEditing?this.fabText="\u062A\u0639\u062F\u064A\u0644":this.fabText="\u0625\u0644\u063A\u0627\u0621",this.isEditing=!this.isEditing}handlePickingImage(n){this.imageSelected=!0,this.image=n}onSubmit(n){n.preventDefault(),!this.username.valid||!this.password.valid?(this.snackbarContent="\u064A\u062C\u0628 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629",this.snackBar.nativeElement.open=!0,this.snackBar.nativeElement.autoCloseDelay=1500):this.backend.signup(this.username.value,this.password.value,this.image,this.firstname.value,this.lastname.value).then(t=>{t.code===201&&(this.backend.emitChange(t.message),this.backend.setLoginState(!0),this.router.navigateByUrl(""))})}};i.\u0275fac=function(t){return new(t||i)(w(L),w(F))},i.\u0275cmp=I({type:i,selectors:[["app-profile"]],viewQuery:function(t,r){if(t&1&&(E(J,5),E(K,5)),t&2){let o;M(o=k())&&(r.snackBar=o.first),M(o=k())&&(r.fab=o.first)}},standalone:!0,features:[j],decls:13,vars:4,consts:[["snackBar",""],["template",""],["edit",""],["fab",""],["main",""],[4,"ngIf","ngIfElse"],[1,"container"],["extended","",1,"fab-up",3,"click"],["slot","icon"],["id","profile"],["src","assets/profile.jpg","alt","profile",4,"ngIf"],[1,"col"],[3,"imagePicked"],[3,"submit"],["label","Username","disabled","",3,"formControl"],["type","submit"],["src","assets/profile.jpg","alt","profile"],["class","bg-container",4,"ngIf"],[1,"bg-container"],["variant","elevated"],[4,"ngTemplateOutlet"]],template:function(t,r){if(t&1){let o=P();l(0,"mdui-snackbar",null,0),u(2),c(),p(3,Z,8,2,"ng-template",null,1,O)(5,ne,2,3,"ng-template",null,2,O)(7,ie,3,0,"ng-container",5),l(8,"div",6)(9,"mdui-fab",7,3),C("click",function(){return _(o),b(r.handleFab())}),u(11),f(12,"mdui-icon-edit",8),c()()}if(t&2){let o=v(6);s(2),D(r.snackbarContent),s(5),m("ngIf",!r.isEditing)("ngIfElse",o),s(4),B(" ",r.fabText," ")}},dependencies:[G,R,q,Q],styles:["mdui-top-app-bar[_ngcontent-%COMP%]{border-bottom:1px solid rgb(var(--mdui-color-surface-variant))}[_nghost-%COMP%]{display:grid;place-content:center;align-items:center;min-height:100vh;width:100%}mdui-button[_ngcontent-%COMP%]{margin:auto;width:fit-content;display:block}.register[_ngcontent-%COMP%]{display:flex;direction:rtl;justify-content:center;vertical-align:middle;align-items:center}.bg-container[_ngcontent-%COMP%]{background:url(/assets/signup.jpg);background-size:cover;position:absolute;inset:0;z-index:-1;filter:opacity(.25) blur(.5rem);background-position:center}mdui-card[_ngcontent-%COMP%]{padding:1.5rem}.fab-up[_ngcontent-%COMP%]{bottom:calc(80px + 1rem)}.fab-down[_ngcontent-%COMP%]{bottom:1rem}@media screen and (max-width:697px){#signup[_ngcontent-%COMP%]{margin:1rem auto}#signup[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:300px}img[_ngcontent-%COMP%]{max-width:350px;aspect-ratio:1/1;margin:0 auto 2.5rem;border-radius:4rem}.container[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   mdui-fab[_ngcontent-%COMP%]{position:fixed;left:1rem}}@media screen and (min-width:698px) and (max-width: 1399px){#signup[_ngcontent-%COMP%]{margin:1rem auto;max-width:350px}#signup[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:350px}img[_ngcontent-%COMP%]{max-width:350px;aspect-ratio:1/1;margin:0 auto 2.5rem;border-radius:4rem}}@media screen and (min-width:1400px){#signup[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}img[_ngcontent-%COMP%]{width:calc(50% - 4rem);aspect-ratio:1/1;margin:auto 2rem;border-radius:4rem}.col[_ngcontent-%COMP%]{margin:auto;width:25%}}"]});let e=i;return e})();export{Pe as ProfileComponent};
