import{B as de,F as me,K as S,L as P,M as k,_ as $,aa as pe,ba as ue,ca as he,da as f,ea as B,fa as K,ga as fe,ia as q,ja as ve,la as ge,ma as ye,na as be,oa as v,pa as Q,qa as _e,ra as we,s as F,sa as W,ta as b,u as c,ua as _,va as w,wa as x,xa as C,y as L,z as d}from"./chunk-Z23VTVCW.js";import{$ as ie,$a as oe,Fb as le,Gb as se,Ib as ce,Oa as N,Qa as z,Sa as g,Ta as h,Ua as y,Va as j,Wa as G,Ya as T,Za as O,_a as V,ab as ae,bb as H,cb as I,d as R,db as U,fb as J,ha as E,ia as M,jb as ne,m as a,na as re,wa as Y,za as D}from"./chunk-OYZL6AD4.js";var X=class extends _{render(){return C('<path d="M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"/>')}};X.styles=x;X=b([w("mdui-icon-upload")],X);var Z=class extends _{render(){return C('<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>')}};Z.styles=x;Z=b([w("mdui-icon-close")],Z);var ee=class extends _{render(){return C('<path d="M2 7h4v10H2V7zm5 12h10V5H7v14zM18 7h4v10h-4V7z"/>')}};ee.styles=x;ee=b([w("mdui-icon-view-carousel")],ee);var xe=F`:host{--shape-corner:var(--mdui-shape-corner-extra-large);--z-index:2300;position:fixed;z-index:var(--z-index);display:none;align-items:center;justify-content:center;inset:0;padding:3rem}::slotted(mdui-top-app-bar[slot=header]){position:absolute;border-top-left-radius:var(--mdui-shape-corner-extra-large);border-top-right-radius:var(--mdui-shape-corner-extra-large);background-color:rgb(var(--mdui-color-surface-container-high))}:host([fullscreen]){--shape-corner:var(--mdui-shape-corner-none);padding:0}:host([fullscreen]) ::slotted(mdui-top-app-bar[slot=header]){border-top-left-radius:var(--mdui-shape-corner-none);border-top-right-radius:var(--mdui-shape-corner-none)}.overlay{position:fixed;inset:0;background-color:rgba(var(--mdui-color-scrim),.4)}.panel{--mdui-color-background:var(--mdui-color-surface-container-high);position:relative;display:flex;flex-direction:column;max-height:100%;border-radius:var(--shape-corner);outline:0;transform-origin:top;min-width:17.5rem;max-width:35rem;padding:1.5rem;background-color:rgb(var(--mdui-color-surface-container-high));box-shadow:var(--mdui-elevation-level3)}:host([fullscreen]) .panel{width:100%;max-width:100%;height:100%;max-height:100%;box-shadow:var(--mdui-elevation-level0)}.header{display:flex;flex-direction:column}.has-icon .header{align-items:center}.icon{display:flex;color:rgb(var(--mdui-color-secondary));font-size:1.5rem}.icon mdui-icon,::slotted([slot=icon]){font-size:inherit}.headline{display:flex;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-headline-small-size);font-weight:var(--mdui-typescale-headline-small-weight);letter-spacing:var(--mdui-typescale-headline-small-tracking);line-height:var(--mdui-typescale-headline-small-line-height)}.icon+.headline{padding-top:1rem}.body{overflow:auto}.header+.body{margin-top:1rem}.description{display:flex;color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-body-medium-size);font-weight:var(--mdui-typescale-body-medium-weight);letter-spacing:var(--mdui-typescale-body-medium-tracking);line-height:var(--mdui-typescale-body-medium-line-height)}:host([fullscreen]) .description{color:rgb(var(--mdui-color-on-surface))}.has-description.has-default .description{margin-bottom:1rem}.action{display:flex;justify-content:flex-end;padding-top:1.5rem}.action::slotted(:not(:first-child)){margin-left:.5rem}:host([stacked-actions]) .action{flex-direction:column;align-items:end}:host([stacked-actions]) .action::slotted(:not(:first-child)){margin-left:0;margin-top:.5rem}`;var m=class extends ${constructor(){super(...arguments),this.open=!1,this.fullscreen=!1,this.closeOnEsc=!1,this.closeOnOverlayClick=!1,this.stackedActions=!1,this.overlayRef=S(),this.panelRef=S(),this.bodyRef=S(),this.hasSlotController=new ue(this,"header","icon","headline","description","action","[default]"),this.definedController=new pe(this,{relatedElements:["mdui-top-app-bar"]})}onOpenChange(){return R(this,null,function*(){let r=this.hasUpdated;if(!this.open&&!r)return;yield this.definedController.whenDefined(),r||(yield this.updateComplete);let o=Array.from(this.panelRef.value.querySelectorAll(".header, .body, .actions")),e=B(this,"linear"),t=B(this,"emphasized-decelerate"),i=B(this,"emphasized-accelerate"),l=()=>Promise.all([Q(this.overlayRef.value),Q(this.panelRef.value),...o.map(u=>Q(u))]);if(this.open){if(r&&!this.emit("open",{cancelable:!0}))return;this.style.display="flex";let u=this.topAppBarElements??[];if(u.length){let p=u[0];p.scrollTarget||(p.scrollTarget=this.bodyRef.value),this.bodyRef.value.style.marginTop="0"}this.originalTrigger=document.activeElement,this.modalHelper.activate(),we(this),yield l(),requestAnimationFrame(()=>{let p=this.querySelector("[autofocus]");p?p.focus({preventScroll:!0}):this.panelRef.value.focus({preventScroll:!0})});let s=K(this,"medium4");yield Promise.all([v(this.overlayRef.value,[{opacity:0},{opacity:1,offset:.3},{opacity:1}],{duration:r?s:0,easing:e}),v(this.panelRef.value,[{transform:"translateY(-1.875rem) scaleY(0)"},{transform:"translateY(0) scaleY(1)"}],{duration:r?s:0,easing:t}),v(this.panelRef.value,[{opacity:0},{opacity:1,offset:.1},{opacity:1}],{duration:r?s:0,easing:e}),...o.map(p=>v(p,[{opacity:0},{opacity:0,offset:.2},{opacity:1,offset:.8},{opacity:1}],{duration:r?s:0,easing:e}))]),r&&this.emit("opened")}else{if(!this.emit("close",{cancelable:!0}))return;this.modalHelper.deactivate(),yield l();let s=K(this,"short4");yield Promise.all([v(this.overlayRef.value,[{opacity:1},{opacity:0}],{duration:s,easing:e}),v(this.panelRef.value,[{transform:"translateY(0) scaleY(1)"},{transform:"translateY(-1.875rem) scaleY(0.6)"}],{duration:s,easing:i}),v(this.panelRef.value,[{opacity:1},{opacity:1,offset:.75},{opacity:0}],{duration:s,easing:e}),...o.map(ke=>v(ke,[{opacity:1},{opacity:0,offset:.75},{opacity:0}],{duration:s,easing:e}))]),this.style.display="none",W(this);let p=this.originalTrigger;typeof p?.focus=="function"&&setTimeout(()=>p.focus()),this.emit("closed")}})}disconnectedCallback(){super.disconnectedCallback(),W(this),ge(this)}firstUpdated(r){super.firstUpdated(r),this.modalHelper=new _e(this),this.addEventListener("keydown",o=>{this.open&&this.closeOnEsc&&o.key==="Escape"&&(o.stopPropagation(),this.open=!1)})}render(){let r=this.hasSlotController.test("action"),o=this.hasSlotController.test("[default]"),e=!!this.icon||this.hasSlotController.test("icon"),t=!!this.headline||this.hasSlotController.test("headline"),i=!!this.description||this.hasSlotController.test("description"),l=e||t||this.hasSlotController.test("header"),u=i||o;return c`<div ${P(this.overlayRef)} part="overlay" class="overlay" @click="${this.onOverlayClick}" tabindex="-1"></div><div ${P(this.panelRef)} part="panel" class="panel ${me({"has-icon":e,"has-description":i,"has-default":o})}" tabindex="0">${k(l,()=>c`<slot name="header" part="header" class="header">${k(e,()=>this.renderIcon())} ${k(t,()=>this.renderHeadline())}</slot>`)} ${k(u,()=>c`<div ${P(this.bodyRef)} part="body" class="body">${k(i,()=>this.renderDescription())}<slot></slot></div>`)} ${k(r,()=>c`<slot name="action" part="action" class="action"></slot>`)}</div>`}onOverlayClick(){this.emit("overlay-click"),this.closeOnOverlayClick&&(this.open=!1)}renderIcon(){return c`<slot name="icon" part="icon" class="icon">${this.icon?c`<mdui-icon name="${this.icon}"></mdui-icon>`:fe}</slot>`}renderHeadline(){return c`<slot name="headline" part="headline" class="headline">${this.headline}</slot>`}renderDescription(){return c`<slot name="description" part="description" class="description">${this.description}</slot>`}};m.styles=[q,xe];a([d({reflect:!0})],m.prototype,"icon",void 0);a([d({reflect:!0})],m.prototype,"headline",void 0);a([d({reflect:!0})],m.prototype,"description",void 0);a([d({type:Boolean,reflect:!0,converter:f})],m.prototype,"open",void 0);a([d({type:Boolean,reflect:!0,converter:f})],m.prototype,"fullscreen",void 0);a([d({type:Boolean,reflect:!0,converter:f,attribute:"close-on-esc"})],m.prototype,"closeOnEsc",void 0);a([d({type:Boolean,reflect:!0,converter:f,attribute:"close-on-overlay-click"})],m.prototype,"closeOnOverlayClick",void 0);a([d({type:Boolean,reflect:!0,converter:f,attribute:"stacked-actions"})],m.prototype,"stackedActions",void 0);a([de({slot:"header",selector:"mdui-top-app-bar",flatten:!0})],m.prototype,"topAppBarElements",void 0);a([he("open")],m.prototype,"onOpenChange",null);m=a([L("mdui-dialog")],m);var Ce=F`:host{--shape-corner:var(--mdui-shape-corner-medium);position:relative;display:inline-block;overflow:hidden;border-radius:var(--shape-corner);-webkit-tap-highlight-color:transparent;transition:box-shadow var(--mdui-motion-duration-short4) var(--mdui-motion-easing-linear);--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([clickable]){cursor:pointer}:host([variant=elevated]){background-color:rgb(var(--mdui-color-surface-container-low));box-shadow:var(--mdui-elevation-level1)}:host([variant=filled]){background-color:rgb(var(--mdui-color-surface-container-highest))}:host([variant=outlined]){background-color:rgb(var(--mdui-color-surface));border:.0625rem solid rgb(var(--mdui-color-outline))}:host([variant=elevated][hover]){box-shadow:var(--mdui-elevation-level2)}:host([variant=filled][hover]),:host([variant=outlined][hover]){box-shadow:var(--mdui-elevation-level1)}:host([variant=elevated][dragged]),:host([variant=filled][dragged]),:host([variant=outlined][dragged]){box-shadow:var(--mdui-elevation-level3)}:host([disabled]){opacity:.38;cursor:default;-webkit-user-select:none;user-select:none}:host([variant=elevated][disabled]){background-color:rgb(var(--mdui-color-surface-variant));box-shadow:var(--mdui-elevation-level0)}:host([variant=filled][disabled]){background-color:rgb(var(--mdui-color-surface));box-shadow:var(--mdui-elevation-level1)}:host([variant=outlined][disabled]){box-shadow:var(--mdui-elevation-level0);border-color:rgba(var(--mdui-color-outline),.32)}.link{position:relative;display:inline-block;width:100%;height:100%;color:inherit;font-size:inherit;letter-spacing:inherit;text-decoration:none;touch-action:manipulation;-webkit-user-drag:none}`;var A=class extends ye(be(ve($))){constructor(){super(...arguments),this.variant="elevated",this.clickable=!1,this.disabled=!1,this.rippleRef=S()}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.disabled||!this.href&&!this.clickable}get focusElement(){return this.href&&!this.disabled?this.renderRoot.querySelector("._a"):this}get focusDisabled(){return this.rippleDisabled}render(){return c`<mdui-ripple ${P(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.href&&!this.disabled?this.renderAnchor({className:"link",content:c`<slot></slot>`}):c`<slot></slot>`}`}};A.styles=[q,Ce];a([d({reflect:!0})],A.prototype,"variant",void 0);a([d({type:Boolean,reflect:!0,converter:f})],A.prototype,"clickable",void 0);a([d({type:Boolean,reflect:!0,converter:f})],A.prototype,"disabled",void 0);A=a([L("mdui-card")],A);var te=class extends _{render(){return C('<path d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"/>')}};te.styles=x;te=b([w("mdui-icon-delete--outlined")],te);var Ee=["fileUpload"],Me=["gallery"],Oe=["fileDrag"];function Se(n,r){if(n&1){let o=T();j(0),g(1,"div",15)(2,"mdui-button-icon",16),O("click",function(){E(o);let t=V();return M(t.reset())}),y(3,"mdui-icon-delete--outlined"),h(),y(4,"img",17),h(),G()}if(n&2){let o=V();D(4),oe("src",o.previewUrl,Y)}}function Pe(n,r){if(n&1){let o=T();j(0),g(1,"mdui-card",18),O("click",function(){let t=E(o).index,i=V();return M(i.selectAvatar(t))}),y(2,"img",19),h(),G()}if(n&2){let o=r.$implicit;D(2),ae("src","/assets/avatars/",o,"",Y)}}var li=(()=>{let r=class r{constructor(){this.previewUrl="",this.imageSelected=!1,this.imagePicked=re(),this.avatars=["female-1.svg","female-2.svg","female-3.svg","female-4.svg","male-1.svg","male-2.svg","male-3.svg","male-4.svg","pin-1.svg","pin-2.svg"],this.fileDragHover=e=>{e.stopPropagation(),e.preventDefault(),this.fileDrag.nativeElement.className=e.type==="dragover"?"hover":"modal-body file-upload"},this.fileSelectHandler=e=>{let t=e.target.files||e.dataTransfer.files;this.fileDragHover(e);for(let i=0;i<t.length;i++)this.parseFile(t[i])}}ngAfterViewInit(){this.fileSelect.nativeElement.addEventListener("change",this.fileSelectHandler,!1),window.File&&window.FileList&&window.FileReader?(this.fileDrag.nativeElement.addEventListener("dragover",this.fileDragHover,!1),this.fileDrag.nativeElement.addEventListener("dragleave",this.fileDragHover,!1),this.fileDrag.nativeElement.addEventListener("drop",this.fileSelectHandler,!1)):this.fileDrag.nativeElement.style.display="none"}reset(){this.selectedFile="",this.previewUrl="",this.imageSelected=!1,this.closeDialog()}showGallery(e){e.preventDefault(),this.gallery.nativeElement.open=!0}selectAvatar(e){return R(this,null,function*(){yield fetch("/assets/avatars/"+this.avatars[e]).then(t=>t.blob()).then(t=>{this.parseFile(new File([t],this.avatars[e],{type:"image/svg+xml"}))})})}closeDialog(){this.gallery.nativeElement.open=!1}select(e){e.target.tagName=="MDUI-FAB"?this.fileSelect.nativeElement.click():this.fileSelect.nativeElement.dispatchEvent(new Event("change"))}parseFile(e){let t=e.name;/\.(gif|jpg|png|jpeg|svg)/gi.test(t)?(this.selectedFile=e,this.previewUrl=URL.createObjectURL(e),this.imageSelected=!0,document.getElementById("start").classList.add("hidden"),this.closeDialog(),this.imagePicked.emit(e)):(this.selectedFile=null,this.previewUrl="",document.getElementById("start").classList.remove("hidden"))}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=ie({type:r,selectors:[["app-avatarpicker"]],viewQuery:function(t,i){if(t&1&&(H(Ee,5),H(Me,5),H(Oe,5)),t&2){let l;I(l=U())&&(i.fileSelect=l.first),I(l=U())&&(i.gallery=l.first),I(l=U())&&(i.fileDrag=l.first)}},outputs:{imagePicked:"imagePicked"},standalone:!0,features:[ne],decls:20,vars:3,consts:[["fileUpload",""],["fileDrag",""],["gallery",""],["id","file-upload-form",3,"classList"],["id","fileUpload","type","file","name","fileUpload","accept","image/*"],["for","fileUpload"],["id","start"],[3,"click"],["lowered","","variant","tertiary","extended","",3,"click"],["slot","icon"],[4,"ngIf"],["fullscreen","","close-on-esc","","description","\u064A\u0645\u0643\u0646\u0643 \u0627\u062E\u062A\u064A\u0627\u0631 \u0635\u0648\u0631\u0629 \u0644\u0643 \u0645\u0646 \u0627\u0644\u0622\u0641\u0627\u062A\u0627\u0631 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u064A\u0646 \u0645\u0633\u0628\u0642\u0627\u064B."],["slot","headline",2,"display","flex"],[1,"grid"],[4,"ngFor","ngForOf"],[2,"position","relative"],["variant","tonal",2,"position","absolute","top","1rem","right","1rem",3,"click"],["alt","",1,"avatar",3,"src"],["clickable","","variant","outlined",3,"click"],["alt","",3,"src"]],template:function(t,i){if(t&1){let l=T();g(0,"form",3),y(1,"input",4,0),g(3,"label",5,1)(5,"div",6)(6,"mdui-button-icon",7),O("click",function(s){return E(l),M(i.showGallery(s))}),y(7,"mdui-icon-view-carousel"),h(),g(8,"mdui-fab",8),O("click",function(s){return E(l),M(i.select(s))}),y(9,"mdui-icon-upload",9),J(10," \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629 \u0647\u0646\u0627 "),h()()()(),N(11,Se,5,1,"ng-container",10),g(12,"mdui-dialog",11,2)(14,"div",12)(15,"mdui-button-icon",7),O("click",function(){return E(l),M(i.closeDialog())}),y(16,"mdui-icon-close"),h(),J(17," \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629 "),h(),g(18,"div",13),N(19,Pe,3,2,"ng-container",14),h()()}t&2&&(z("classList",i.imageSelected?"hidden":"uploader"),D(11),z("ngIf",i.imageSelected),D(8),z("ngForOf",i.avatars))},dependencies:[ce,le,se],styles:[".uploader[_ngcontent-%COMP%]{display:block;clear:both;margin:0 auto;width:100%;max-width:600px}.uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{clear:both;display:inline-block;width:calc(100% - 3rem);padding:2rem 1.5rem;text-align:center;border-radius:7px;border:1px solid rgb(var(--mdui-color-outline));transition:all .2s ease;-webkit-user-select:none;user-select:none}.uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{border-color:rgb(var(--mdui-color-primary))}.uploader[_ngcontent-%COMP%]   label.hover[_ngcontent-%COMP%]{border:3px solid rgb(var(--mdui-color-primary));box-shadow:inset 0 0 0 6px rgb(var(--mdui-color-outline))}.uploader[_ngcontent-%COMP%]   label.hover[_ngcontent-%COMP%]   #start[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{transform:scale(.8);opacity:.3}.uploader[_ngcontent-%COMP%]   #start[_ngcontent-%COMP%]{clear:both;width:100%;display:flex;align-items:center;align-content:center;flex-wrap:wrap;justify-content:space-evenly}.hidden[_ngcontent-%COMP%], .uploader[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.avatar[_ngcontent-%COMP%]{width:100%;display:block}mdui-dialog[_ngcontent-%COMP%]{direction:rtl}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(5rem,1fr));gap:1rem;display:grid;margin-top:1.5rem}mdui-card[_ngcontent-%COMP%]{padding:1rem;aspect-ratio:1/1}mdui-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;aspect-ratio:1 / 1}@media screen and (max-width:697px){.avatar[_ngcontent-%COMP%]{border-radius:1.25rem;margin:auto;max-width:300px}}@media screen and (min-width:698px){.avatar[_ngcontent-%COMP%]{max-width:350px;margin:0 auto 2.5rem;border-radius:4rem}}"]});let n=r;return n})();export{li as a};
